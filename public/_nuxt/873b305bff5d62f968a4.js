(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{418:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(422),core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(153),core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1__),D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(105),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__.a={name:"base-sync",asyncData:function asyncData(_ref){var $axios=_ref.$axios,store=_ref.store,route=_ref.route,error=_ref.error;if(route.meta[0].hasOwnProperty("store_props")){var _route$meta$=route.meta[0],store_props=_route$meta$.store_props,data_var=_route$meta$.data_var,model=store_props.model,query=store_props.query,fetch=store_props.fetch,dependencies=store_props.dependencies,notFound=function(){return error({statusCode:404,message:"Not Found",to:route.meta[0].redirect})},parseQuery=function parseQuery(){if(query){var params_regep=/(\w+)\((.*)\)/,value=model;if(query.split(/\.(?=\w+\(.*\))/).forEach(function(q){var parsed=params_regep.exec(q);value=value[parsed[1]](eval(parsed[2]))}),value&&data_var)return Object(D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.a)({},data_var,value);notFound()}};return dependencies&&Object.entries(dependencies).forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dep,t=Object(D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(e,2),r=t[0],o=t[1],n="entities/".concat(r);store.getters["".concat(n,"/isSynced")]||$axios.get("api/".concat(o)).then(function(e){var data=e.data;store.dispatch("entities/insert",{entity:r,data:data.result}).then(function(){store.dispatch("".concat(n,"/synchronize"),!0)}).catch(function(e){return console.log(e)})}).catch(function(e){console.log(e)})}),model&&!model.getters("isSynced")?$axios.get("api/".concat(fetch)).then(function(e){var data=e.data;return model.insert({data:data.result}),model.sync(!0),parseQuery()}).catch(function(e){e.hasOwnProperty("response")&&404===e.response.status&&notFound(),console.log(e)}):parseQuery()}}}},419:function(e,t,r){"use strict";var o={name:"crud-actions",extends:r(420).a,beforeDestroy:function(){this.mixin.admin.notification.active=!1},methods:{isValid:function(){var e=this;return this.$bus.$emit("validate"),new Promise(function(t,r){e.$bus.$on("validated",function(e){e&&t(e),r(e)})})},save:function(data){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"created";this.isValid().then(function(){e.send(e.repository.save(data),e.repository.getResource()+"/saving").then(function(r){e.$bus.$emit(t,r)})})},saveAndReload:function(data){this.save(data,"reloaded")},update:function(e,data){var t=this;this.isValid().then(function(){t.send(t.repository.update(e,data),t.repository.getResource()+"/updating").then(function(e){t.$bus.$emit("updated",e)})})},destroy:function(e){var t=this;this.isValid().then(function(){t.isValid().then(function(){t.send(t.repository.delete(e),t.repository.getResource()+"/deleting").then(function(e){t.$bus.$emit("deleted",e)})})})},send:function(e,t){var r=this;return this.mixin.sending_now=t,e.then(function(e){return r.parseResponse(e)?e.data.result:reject("error")}).catch(function(e){r.parseResponse(e)}).finally(function(){r.mixin.sending_now=""})}}},n=r(19),component=Object(n.a)(o,void 0,void 0,!1,null,null,null);t.a=component.exports},420:function(e,t,r){"use strict";var o=r(418).a,n=r(19),component=Object(n.a)(o,void 0,void 0,!1,null,null,null);t.a=component.exports},428:function(e,t,r){"use strict";r(33),r(108),r(153),r(20),r(425);var o={name:"modal-loading",props:{is_sending:Boolean}},n=r(19),_=r(41),c=r.n(_),l=r(143),d=r(417),v=r(472),m=r(133),component=Object(n.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.is_sending,callback:function(t){e.is_sending=t},expression:"is_sending"}},[r("v-card",{attrs:{color:"green accent-4",dark:""}},[r("v-card-text",[e._v("\n            "+e._s(e.$t("dialogs.sending"))+"\n            "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},[],!1,null,"98843022",null),f=component.exports;c()(component,{VCard:l.a,VCardText:d.b,VDialog:v.a,VProgressLinear:m.a});var h={name:"base-form",components:{ModalLoading:f},props:{title:String,icon_action:String,link_to_list:String,data:Object,time:{type:Number,default:1500},sending_condition:{type:Boolean,default:!0}},created:function(){var e=this;this.$bus.$on("errors",function(t){Object.entries(t).forEach(function(t){var r=e.$validator._base.fields.find({name:t[0]});e.errors.add({id:r.id,field:r.name,msg:t[1][0],scope:r.scope,vmId:r.vmId}),r.setFlags({valid:!t[1].length,dirty:!0})})})},computed:{hasErrors:function(){return this.$validator.errors.items.length>0}}},w=r(475),y=r(128),E=r(146),O=r(139),D=r(411),P=r(147),$=r(415),x=Object(n.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-toolbar",{attrs:{card:"",color:"cyan",dark:""}},[r("nuxt-link",{staticClass:"link",attrs:{to:e.link_to_list}},[r("v-icon",[e._v("list")])],1),e._v(" "),r("v-toolbar-title",[e._v(e._s(e.title))]),e._v(" "),r("v-spacer"),e._v(" "),e._t("icon_actions"),e._v(" "),r("v-icon",[e._v(e._s(e.icon_action))])],2),e._v(" "),e._t("form"),e._v(" "),r("v-alert",{attrs:{value:e.hasErrors,type:"error",color:"red accent--1",transition:"scale-transition"}},[e._v("\n        "+e._s(e.$t("alerts.invalid_form"))+"\n        "),r("ul",e._l(e.$validator.errors.items,function(t){return r("li",{key:t.id},[e._v(e._s(t.field))])}),0)]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-layout",{attrs:{"justify-end":""}},[e._t("actions")],2)],1),e._v(" "),r("modal-loading",{attrs:{is_sending:e.isSending&&e.sending_condition}})],2)},[],!1,null,"4556f227",null);t.a=x.exports;c()(x,{VAlert:w.a,VCard:l.a,VCardActions:d.a,VDivider:y.a,VIcon:E.a,VLayout:O.a,VSpacer:D.a,VToolbar:P.a,VToolbarTitle:$.a})},553:function(e,t,r){"use strict";r.r(t);var o=r(428),n={name:"show-form",extends:r(419).a,components:{BaseForm:o.a},props:{data:Object,section:String,title:String}},_=r(19),c=r(41),l=r.n(c),d=r(144),v=r(146),m=r(474),component=Object(_.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-form",{attrs:{link_to_list:this.routes.base.admin+"/"+e.section,title:e.title,icon_action:"info_outline"}},[r("template",{slot:"form"},[e._t("form")],2),e._v(" "),r("template",{slot:"actions"},[e._t("actions"),e._v(" "),r("nuxt-link",{attrs:{to:this.routes.base.admin+"/"+e.section}},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(data){return[r("v-btn",e._g({attrs:{absolute:"",fab:"",left:"",color:"grey  white--text"}},data.on),[r("v-icon",[e._v("\n                            format_list_bulleted\n                        ")])],1)]}}])},[e._v(" "),r("span",[e._v(e._s(e.$t("buttons.tooltips.list")))])])],1),e._v(" "),r("nuxt-link",{attrs:{to:this.routes.base.admin+"/"+e.section+"/edit/"+e.data.id}},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(data){return[r("v-btn",e._g({attrs:{absolute:"",fab:"",right:"",color:"success"}},data.on),[r("v-icon",[e._v("\n                            edit\n                        ")])],1)]}}])},[e._v(" "),r("span",[e._v(e._s(e.$t("buttons.tooltips.edit")))])])],1)],2)],2)},[],!1,null,"cc27bb4a",null),f=component.exports;l()(component,{VBtn:d.a,VIcon:v.a,VTooltip:m.a});var h={layout:"admin",extends:f,validate:function(e){var t=e.params;return/^\d+$/.test(t.id)},components:{ShowForm:f},middleware:"CheckPermissions",meta:{permissions:["mostrar-roles"],store_props:{model:r(28).Role,query:"query().withAll().find(route.params.id)",fetch:"admin/roles",dependencies:{Permission:"admin/permisos"}},data_var:"rol",redirect:"/admin/roles"},data:function(){return{rol:{}}}},w=r(125),y=r(127),E=r(136),O=r(128),D=r(138),P=r(139),$=Object(_.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("show-form",{attrs:{data:e.rol,title:e._f("capitalize")(e.rol.name),section:"roles"}},[r("template",{slot:"form"},[r("v-container",[r("v-layout",[r("v-flex",[r("p",[r("strong",[e._v("Name: ")]),e._v(e._s(e.rol.name))]),e._v(" "),e.rol.description?r("p",[r("strong",[e._v("Description: ")]),e._v(e._s(e.rol.description))]):e._e(),e._v(" "),e.rol.permissions.length>0?r("div",[r("v-divider"),e._v(" "),r("h3",{staticClass:"mt-3"},[e._v("Permisos")]),e._v(" "),e._l(e.rol.permissions,function(t){return r("v-chip",{key:t.id,attrs:{color:"green","text-color":"white"}},[r("v-avatar",[r("v-icon",[e._v("fa fa-key fa-1x")])],1),e._v("\n                            "+e._s(t.name)+"\n                        ")],1)})],2):e._e()])],1)],1)],1)],2)},[],!1,null,"480d664b",null);t.default=$.exports;l()($,{VAvatar:w.a,VChip:y.a,VContainer:E.a,VDivider:O.a,VFlex:D.a,VIcon:v.a,VLayout:P.a})}}]);