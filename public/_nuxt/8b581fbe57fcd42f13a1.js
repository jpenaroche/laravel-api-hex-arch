(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{418:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(422),core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(153),core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es7_object_entries__WEBPACK_IMPORTED_MODULE_1__),D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(105),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__.a={name:"base-sync",asyncData:function asyncData(_ref){var $axios=_ref.$axios,store=_ref.store,route=_ref.route,error=_ref.error;if(route.meta[0].hasOwnProperty("store_props")){var _route$meta$=route.meta[0],store_props=_route$meta$.store_props,data_var=_route$meta$.data_var,model=store_props.model,query=store_props.query,fetch=store_props.fetch,dependencies=store_props.dependencies,notFound=function(){return error({statusCode:404,message:"Not Found",to:route.meta[0].redirect})},parseQuery=function parseQuery(){if(query){var params_regep=/(\w+)\((.*)\)/,value=model;if(query.split(/\.(?=\w+\(.*\))/).forEach(function(q){var parsed=params_regep.exec(q);value=value[parsed[1]](eval(parsed[2]))}),value&&data_var)return Object(D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.a)({},data_var,value);notFound()}};return dependencies&&Object.entries(dependencies).forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dep,t=Object(D_www_sitiosAWT_Saw3_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(e,2),r=t[0],o=t[1],_="entities/".concat(r);store.getters["".concat(_,"/isSynced")]||$axios.get("api/".concat(o)).then(function(e){var data=e.data;store.dispatch("entities/insert",{entity:r,data:data.result}).then(function(){store.dispatch("".concat(_,"/synchronize"),!0)}).catch(function(e){return console.log(e)})}).catch(function(e){console.log(e)})}),model&&!model.getters("isSynced")?$axios.get("api/".concat(fetch)).then(function(e){var data=e.data;return model.insert({data:data.result}),model.sync(!0),parseQuery()}).catch(function(e){e.hasOwnProperty("response")&&404===e.response.status&&notFound(),console.log(e)}):parseQuery()}}}},420:function(e,t,r){"use strict";var o=r(418).a,_=r(19),component=Object(_.a)(o,void 0,void 0,!1,null,null,null);t.a=component.exports},461:function(e,t,r){var content=r(535);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(6).default)("5190c68a",content,!0,{sourceMap:!1})},534:function(e,t,r){"use strict";var o=r(461);r.n(o).a},535:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".v-list__tile__sub-title[data-v-2894c461],h2[data-v-2894c461]{text-transform:capitalize}.v-image[data-v-2894c461]:hover{opacity:.5;cursor:pointer}",""])},554:function(e,t,r){"use strict";r.r(t);var o=r(420),_=r(25),n=(r(232),r(425),r(1)),main=r(517);n.default.use(main,{load:{key:"AIzaSyA3g_id7WsXmQhbud6QozCNFlKQNH-vw_0",libraries:"places"}});var l={name:"gmap",props:{position:{type:Object,default:function(){return{lat:-34.9011127,lng:-56.16453139999999}}},zoom:{type:Number,default:6},markers:{type:Array,default:function(){return[]}},can_mark:{type:Boolean,default:!1},search:{type:Boolean,default:!1}},data:function(){return{center:{lat:0,lng:0},flags:[],places:[],near:12,currentPlace:null}},mounted:function(){this.geolocate(),this.center=this.position,this.near=this.zoom,this.flags=this.markers},methods:{setPlace:function(e){this.currentPlace=e},mark:function(e){if(this.can_mark){var t={lat:e.latLng.lat(),lng:e.latLng.lng()};this.center=t,this.flags=[],this.addMarker(t),this.$emit("geolocated",t)}},locatePlace:function(){this.currentPlace&&(this.places.push(this.currentPlace),this.addMarker({lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()}),this.currentPlace=null)},addMarker:function(e){var marker={lat:e.lat,lng:e.lng};this.flags.push({position:marker}),this.center=marker},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}})}},watch:{position:function(e){this.flags=[],this.flags.push({position:e}),this.center=e},zoom:function(e){this.near=e}}},c=r(19),v=Object(c.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.search?r("div",[r("h2",[e._v(e._s(e.$tc("keywords.map.place",1)))]),e._v(" "),r("label",[r("gmap-autocomplete",{on:{place_changed:e.setPlace}}),e._v(" "),r("button",{on:{click:function(t){return t.preventDefault(),e.locatePlace(t)}}},[e._v(e._s(e.$t("keywords.map.locate")))])],1),e._v(" "),r("br")]):e._e(),e._v(" "),r("br"),e._v(" "),r("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"400px"},attrs:{center:e.center,zoom:e.near,options:{disableDoubleClickZoom:!1,scaleControl:!1,zoomControl:!1,gestureHandling:"cooperative",mapTypeId:"roadmap"}},on:{dblclick:function(t){return e.mark(t)}}},e._l(e.flags,function(t,o){return r("gmap-marker",{key:o,attrs:{position:t.position},on:{click:function(r){e.center=t.position}}})}),1)],1)},[],!1,null,null,null).exports,d={layout:"admin",extends:o.a,components:{Gmap:v},validate:function(e){var t=e.params;return/^\d+$/.test(t.id)},meta:{permissions:["mostrar-usuarios"],store_props:{model:_.User,query:"query().with('profile|roles|permissions').find(route.params.id)",fetch:"admin/usuarios",dependencies:{Role:"admin/roles",Permission:"admin/permisos"}},data_var:"user",redirect:"/admin/usuarios"},data:function(){return{user:{},email:"",email2:""}}},m=(r(534),r(41)),f=r.n(m),h=r(125),y=r(144),w=r(143),x=r(417),k=r(127),E=r(128),P=r(138),C=r(146),D=r(223),O=r(139),M=r(129),T=r(130),A=r(131),$=r(149),L=r(135),j=Object(c.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{sm12:""}},[r("v-card",{attrs:{id:"secondary-info"}},[r("v-layout",{staticClass:"relative"},[r("v-flex",{staticClass:"user-avatar",attrs:{xs12:"",sm6:"",md8:"","text-xs-center":"",layout:"","align-center":"","justify-center":""}},[r("v-avatar",{staticClass:"grey lighten-4",attrs:{size:160}},[r("img",{attrs:{src:e.mixin.static.images.no_profile_img,alt:"avatar"}})]),e._v(" "),r("v-layout",{staticClass:"name"},[r("h3",{staticClass:"text-capitalize"},[e._v(e._s(e.user.fullname))])])],1)],1),e._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("gmap",{attrs:{zoom:8}})],1)],1),e._v(" "),r("v-layout",{attrs:{wrap:""}},[r("v-flex",[r("v-divider"),e._v(" "),r("v-layout",[r("v-flex",{attrs:{sm12:"",md4:""}},[r("v-flex",{attrs:{id:"user-show"}},[r("v-list",{attrs:{"two-line":""}},[e.user.profile.mobile?r("v-list-tile",[r("v-list-tile-action",[r("v-icon",{staticClass:"indigo--text"},[e._v("phone")])],1),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.profile.mobile))]),e._v(" "),r("v-list-tile-sub-title",[e._v(e._s(e.$t("usuarios.form.fields.mobile"))+"\n                                            ")])],1)],1):e._e(),e._v(" "),e.user.profile.phone?r("v-list-tile",[r("v-list-tile-action"),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.profile.phone))]),e._v(" "),r("v-list-tile-sub-title",[e._v(e._s(e.$t("usuarios.form.fields.phone"))+"\n                                            ")])],1)],1):e._e(),e._v(" "),e.user.profile.phone||e.user.profile.mobile?r("v-divider",{attrs:{inset:""}}):e._e(),e._v(" "),e.user.email?r("v-list-tile",{on:{click:function(e){}}},[r("v-list-tile-action",[r("v-icon",{staticClass:"indigo--text"},[e._v("mail")])],1),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.email))]),e._v(" "),r("v-list-tile-sub-title",[e._v(e._s(e.$t("usuarios.form.fields.email"))+"\n                                            ")])],1)],1):e._e(),e._v(" "),e.user.email_verified_at?r("v-list-tile",[r("v-list-tile-action"),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.email_verified_at))]),e._v(" "),r("v-list-tile-sub-title",[e._v(e._s(e.$t("usuarios.form.fields.email_verified_at"))+"\n                                            ")])],1)],1):e._e(),e._v(" "),e.user.profile.email||e.user.profile.email_verified_at?r("v-divider",{attrs:{inset:""}}):e._e()],1)],1)],1),e._v(" "),r("v-flex",{attrs:{sm12:"",md8:""}},[e.user.roles.length>0?r("div",[r("v-flex",{attrs:{id:"interes"}},[r("v-layout",[r("v-icon",{staticClass:"pink--text text--darken-2",attrs:{large:""}},[e._v("supervisor_account")]),e._v(" "),r("v-subheader",[r("h2",[e._v(e._s(e.$tc("roles.name",2)))])])],1),e._v(" "),r("div",{staticClass:"text-xs-left"},e._l(e.user.roles,function(t){return r("v-chip",{key:t.id,staticClass:"red white--text"},[e._v(e._s(t.name)+"\n                                        ")])}),1)],1),e._v(" "),r("v-divider")],1):e._e(),e._v(" "),e.user.permissions.length>0?r("v-flex",{attrs:{id:"interes"}},[r("v-layout",[r("v-icon",{staticClass:"pink--text text--darken-2",attrs:{large:""}},[e._v("vpn_key")]),e._v(" "),r("v-subheader",[r("h2",[e._v(e._s(e.$tc("permisos.name",2)))])])],1),e._v(" "),r("div",{staticClass:"text-xs-left"},e._l(e.user.permissions,function(t){return r("v-chip",{key:t.id,staticClass:"red red--text",attrs:{outline:""}},[e._v(e._s(t.name)+"\n                                    ")])}),1)],1):e._e(),e._v(" "),r("v-flex",{attrs:{id:"alquiler"}},[r("v-layout",[r("v-icon",{staticClass:"pink--text text--darken-2",attrs:{large:""}},[e._v("image")]),e._v(" "),r("v-subheader",[r("h2",[e._v(e._s(e.$t("keywords.background_photo")))])])],1),e._v(" "),r("v-layout",{attrs:{id:"data"}},[r("v-flex",{attrs:{sm12:""}},[r("v-card",{staticClass:"elevation-0"},[r("v-img",{attrs:{src:e.mixin.static.images.no_background_photo,height:"200px"},on:{click:function(e){}}})],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("nuxt-link",{attrs:{to:this.routes.base.admin+"/"+e.section+"/edit/"+e.user.id}},[r("v-btn",{attrs:{absolute:"",fab:"",right:"",color:"success"}},[r("v-icon",[e._v("\n                            edit\n                        ")])],1)],1)],1)],1)],1)],1)},[],!1,null,"2894c461",null);t.default=j.exports;f()(j,{VAvatar:h.a,VBtn:y.a,VCard:w.a,VCardActions:x.a,VChip:k.a,VDivider:E.a,VFlex:P.a,VIcon:C.a,VImg:D.a,VLayout:O.a,VList:M.a,VListTile:T.a,VListTileAction:A.a,VListTileContent:$.a,VListTileSubTitle:$.b,VListTileTitle:$.c,VSubheader:L.a})}}]);